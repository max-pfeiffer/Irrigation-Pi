import{Ia as $,Ma as h,P as S,b as n,c as m,d as a,g as p,h as f,i as w,k as g}from"./chunk-76XA6DQQ.js";import{a as u,b as d,e as o}from"./chunk-PG5KTQWO.js";var y=(()=>{let r=class r{capFirst(t){return t.charAt(0).toUpperCase()+t.slice(1)}transform(t){return this.capFirst(t.replace(/_/g," "))}};o(r,"\u0275fac",function(e){return new(e||r)}),o(r,"\u0275pipe",g({name:"displayString",type:r,pure:!0,standalone:!0}));let i=r;return i})();var c="/v1/schedule",b=(()=>{let r=class r{constructor(t,e){o(this,"httpClient");o(this,"toastController");this.httpClient=t,this.toastController=e}getSchedule(t){let e=new URL(`${h.api.host}${c}/${t}`);return this.httpClient.get(e.toString()).pipe(m(s=>this.stripSeconds(s)),a(s=>(this.showToast("There was an error retrieving the schedule!","danger"),n(()=>s))))}getSchedules(){let t=new URL(`${h.api.host}${c}/`);return this.httpClient.get(t.toString()).pipe(m(e=>e.map(s=>this.stripSeconds(s))),a(e=>(this.showToast("There was an error getting the list of schedules!","danger"),n(()=>e))))}createSchedule(t){let e=this.addSeconds(t),s=new URL(`${h.api.host}${c}/`);return this.httpClient.post(s.toString(),e).pipe(p(()=>{this.showToast("Schedule was created sucessfully!","success")}),a(l=>(this.showToast("There was an error creating the schedule!","danger"),n(()=>l))))}updateSchedule(t,e){let s=this.addSeconds(e),l=new URL(`${h.api.host}${c}/${t}`);return this.httpClient.put(l.toString(),s).pipe(p(()=>{this.showToast("Schedule was updated sucessfully!","success")}),a(T=>(this.showToast("There was an error updating the schedule!","danger"),n(()=>T))))}deleteSchedule(t){let e=new URL(`${h.api.host}${c}/${t}`);return this.httpClient.delete(e.toString()).pipe(p(()=>{this.showToast("Schedule was deleted sucessfully!","success")}),a(s=>(this.showToast("There was an error deleting the schedule!","danger"),n(()=>s))))}showToast(t,e){this.toastController.create({message:t,color:e,duration:3e3,position:"bottom"}).then(s=>s.present()).catch(()=>{})}stripSeconds(t){let e=t.start_time.match(/^([0-9]{1,2}):([0-9]{1,2})/);return d(u({},t),{start_time:e?`${e[1]}:${e[2]}`:t.start_time})}addSeconds(t){let e=t.start_time.match(/^([0-9]{1,2}):([0-9]{1,2})/);return d(u({},t),{start_time:e?`${e[1]}:${e[2]}:00`:t.start_time})}};o(r,"\u0275fac",function(e){return new(e||r)(w(S),w($))}),o(r,"\u0275prov",f({token:r,factory:r.\u0275fac,providedIn:"root"}));let i=r;return i})();export{y as a,b};
